{
	"RuoliAbilitati" : "",
	"CaricaAllegato" : [
		{
			"Name" : "CaricaAllegato",
			"SQL" : "SELECT *\n  FROM allegati_clienti\n WHERE CHIAVE = :CHIAVE\n"
		}
	],
	"CodiceClienteMassimo" : [
		{
			"Name" : "UltimoCodiceCliente",
			"SQL" : "SELECT MAX(CAST(anagrafiche.CODICE AS UNSIGNED)) AS ULTIMO_CODICE_CLIENTE FROM anagrafiche\n"
		}
	],
	"ControlloDoppiaPartitaIva" : [
		{
			"Name" : "ControlloDoppiaPartitaIva",
			"SQL" : "SELECT RAGIONE_SOCIALE,\n            CHIAVE\n  FROM anagrafiche\nWHERE PARTITA_IVA = #PartitaIva\n"
		},
		{
			"Name" : "ControlloDoppioCodiceFiscale",
			"SQL" : "SELECT RAGIONE_SOCIALE,\n            CHIAVE\n  FROM anagrafiche \nWHERE CODICE_FISCALE = #CodiceFiscale\n"
		},
		{
			"Name" : "ControlloDoppioCodiceCliente",
			"SQL" : "SELECT RAGIONE_SOCIALE,\n            CHIAVE\n  FROM anagrafiche \nWHERE CODICE = #CodiceCliente\n"
		}
	],
	"EditSQL" : [
		{
			"Name" : "Insert",
			"SQL" : "INSERT INTO anagrafiche(CHIAVE,RAGIONE_SOCIALE,ENTE_PUBBLICO,\n                    COD_ENTE_SDI,PARTITA_IVA,NAZIONE_EM_PIVA,CODICE_FISCALE,\n                    INDIRIZZO_FATTURAZIONE,NR_CIVICO_FATTURAZIONE,PROVINCIA_FATTURAZIONE,\n                    COMUNE_FATTURAZIONE,CAP_FATTURAZIONE, ZONA_FATTURAZIONE,PRESSO,\n                    INDIRIZZO_SPEDIZIONE,NR_CIVICO_SPEDIZIONE,PROVINCIA_SPEDIZIONE,\n                    COMUNE_SPEDIZIONE,CAP_SPEDIZIONE, ZONA_SPEDIZIONE, NAZIONE_SPEDIZIONE,\n                    ESIGIBILITA_IVA,NATURA_PAGAMENTO,\n                    COND_PAGAMENTO,NOTE_IN_FATTURA,BANCA_APPOGGIO,IBAN, BIC, SWIFT,\n                    PEC,ATTIVO,ID_CONTO_CORRENTE,SPESE_INCASSO_DESCRIZIONE,\n                    SPESE_INCASSO_SUGGERITE,BOLLO, CODICE, COD_UFFICIO_DEST, RITENUTA,\n                    IVA_SUGGERITA_CLIENTE, SOGLIA_X_NO_IVA, SOGLIA_PRESENTE, SOGLIA_NAT_PAG, PASSATA_AD_AVVOCATO,\n                    SCONTO_GENERALE, ID_CAT_CLIENTE,\n                    NOTE,IS_FORNITORE,IS_CLIENTE)\n             VALUES(:NewKey1,#RAGIONE_SOCIALE,#ENTE_PUBBLICO,\n                    #COD_ENTE_SDI,#PARTITA_IVA,:NAZIONE_EM_PIVA,#CODICE_FISCALE,\n                    #INDIRIZZO_FATTURAZIONE,#NR_CIVICO_FATTURAZIONE,:PROVINCIA_FATTURAZIONE,\n                    #COMUNE_FATTURAZIONE,#CAP_FATTURAZIONE, :ZONA_FATTURAZIONE,#PRESSO,\n                    #INDIRIZZO_SPEDIZIONE, #NR_CIVICO_SPEDIZIONE, :PROVINCIA_SPEDIZIONE,\n                    #COMUNE_SPEDIZIONE, #CAP_SPEDIZIONE, :ZONA_SPEDIZIONE, :NAZIONE_SPEDIZIONE,\n                    #ESIGIBILITA_IVA, :NATURA_PAGAMENTO,\n                    :COND_PAGAMENTO, #NOTE_IN_FATTURA, #BANCA_APPOGGIO,#IBAN, #BIC, #SWIFT,\n                    #PEC, #ATTIVO, :ID_CONTO_CORRENTE, #SPESE_INCASSO_DESCRIZIONE,\n                    :SPESE_INCASSO_SUGGERITE, #BOLLO, #CODICE, #COD_UFFICIO_DEST, :RITENUTA,\n                    :IVA_SUGGERITA_CLIENTE,:SOGLIA_X_NO_IVA, #SOGLIA_PRESENTE, :SOGLIA_NAT_PAG, #PASSATA_AD_AVVOCATO,\n                     :SCONTO_GENERALE, :ID_CAT_CLIENTE,#NOTE,#IS_FORNITORE,'T')\n"
		},
		{
			"Name" : "Update",
			"SQL" : "UPDATE anagrafiche SET\n        RAGIONE_SOCIALE = #RAGIONE_SOCIALE,\n        ENTE_PUBBLICO = #ENTE_PUBBLICO,\n        COD_ENTE_SDI = #COD_ENTE_SDI,\n        PARTITA_IVA = #PARTITA_IVA,\n        NAZIONE_EM_PIVA = :NAZIONE_EM_PIVA,\n        CODICE_FISCALE = #CODICE_FISCALE,\n        INDIRIZZO_FATTURAZIONE = #INDIRIZZO_FATTURAZIONE,\n        NR_CIVICO_FATTURAZIONE = #NR_CIVICO_FATTURAZIONE,\n        PROVINCIA_FATTURAZIONE = :PROVINCIA_FATTURAZIONE,\n        COMUNE_FATTURAZIONE = #COMUNE_FATTURAZIONE,\n        CAP_FATTURAZIONE = #CAP_FATTURAZIONE,\n        PRESSO = #PRESSO,\n        INDIRIZZO_SPEDIZIONE = #INDIRIZZO_SPEDIZIONE,\n        NR_CIVICO_SPEDIZIONE = #NR_CIVICO_SPEDIZIONE,\n        PROVINCIA_SPEDIZIONE = :PROVINCIA_SPEDIZIONE,\n        COMUNE_SPEDIZIONE = #COMUNE_SPEDIZIONE,\n        CAP_SPEDIZIONE = #CAP_SPEDIZIONE,\n        NAZIONE_SPEDIZIONE = :NAZIONE_SPEDIZIONE,\n        ESIGIBILITA_IVA = #ESIGIBILITA_IVA,\n        NATURA_PAGAMENTO = :NATURA_PAGAMENTO,\n        COND_PAGAMENTO = :COND_PAGAMENTO,\n        NOTE_IN_FATTURA = #NOTE_IN_FATTURA,\n        BANCA_APPOGGIO = #BANCA_APPOGGIO,\n        IBAN = #IBAN,\n        BIC = #BIC, \n        SWIFT = #SWIFT,\n        EMAIL = #EMAIL,\n        PEC = #PEC,\n        ATTIVO = #ATTIVO,\n        NATURA_PAGAMENTO = :NATURA_PAGAMENTO,\n        ID_CONTO_CORRENTE = :ID_CONTO_CORRENTE,\n        SPESE_INCASSO_DESCRIZIONE = #SPESE_INCASSO_DESCRIZIONE,\n        SPESE_INCASSO_SUGGERITE = :SPESE_INCASSO_SUGGERITE,\n        BOLLO = #BOLLO,\n        CODICE = #CODICE,\n        COD_UFFICIO_DEST = #COD_UFFICIO_DEST,\n        RITENUTA = :RITENUTA,\n        ZONA_SPEDIZIONE = :ZONA_SPEDIZIONE,\n        ZONA_FATTURAZIONE = :ZONA_FATTURAZIONE,\n        IVA_SUGGERITA_CLIENTE = :IVA_SUGGERITA_CLIENTE,\n        SOGLIA_X_NO_IVA = :SOGLIA_X_NO_IVA, \n        SOGLIA_PRESENTE = #SOGLIA_PRESENTE, \n        SOGLIA_NAT_PAG = :SOGLIA_NAT_PAG,\n        PASSATA_AD_AVVOCATO = #PASSATA_AD_AVVOCATO,\n        SCONTO_GENERALE = :SCONTO_GENERALE,\n        ID_CAT_CLIENTE = :ID_CAT_CLIENTE,\n        NOTE = #NOTE,\n        IS_FORNITORE = #IS_FORNITORE\nWHERE CHIAVE = :CHIAVE_CLIENTE\n\n"
		},
		{
			"Name" : "Delete",
			"SQL" : "DELETE FROM anagrafiche WHERE CHIAVE = :CHIAVE_CLIENTE\n"
		},
		{
			"Name" : "InsertFiliale",
			"SQL" : "INSERT INTO filiali_clienti (CHIAVE,CLIENTE,SEDE,NOME,\n                                      INDIRIZZO,NR_CIVICO,NAZIONE,PROVINCIA,CAP,COMUNE,\n                                      NOTE, ZONA, REGISTRO_ANTINCENDIO, POSIZIONE_REGISTRO,\n                                      POSIZIONE_CHIAVI, FILIALE_DISATTIVATA, ALERT_CHIAVI, LAT_IND, LONG_IND)\n       VALUES(:NewKey2,:NewKey1!CHIAVE_CLIENTE,#SEDE,#NOME,\n                   #INDIRIZZO,#NR_CIVICO,:NAZIONE,:PROVINCIA,#CAP,#COMUNE,\n                   #NOTE, #ZONA, #REGISTRO_ANTINCENDIO, #POSIZIONE_REGISTRO,\n                   #POSIZIONE_CHIAVI, #FILIALE_DISATTIVATA, #ALERT_CHIAVI, #LAT_IND, #LONG_IND)\n"
		},
		{
			"Name" : "UpdateFiliale",
			"SQL" : "UPDATE filiali_clienti \n   SET SEDE = #SEDE,\n       NOME = #NOME,\n       INDIRIZZO = #INDIRIZZO,\n       NR_CIVICO = #NR_CIVICO,\n       NAZIONE = #NAZIONE,\n       PROVINCIA = #PROVINCIA,\n       CAP = #CAP,\n       COMUNE = #COMUNE,\n       NOTE = #NOTE,\n       ZONA = #ZONA,\n       REGISTRO_ANTINCENDIO = #REGISTRO_ANTINCENDIO, \n       POSIZIONE_REGISTRO = #POSIZIONE_REGISTRO,\n       POSIZIONE_CHIAVI = #POSIZIONE_CHIAVI,\n       FILIALE_DISATTIVATA = #FILIALE_DISATTIVATA,\n       ALERT_CHIAVI = #ALERT_CHIAVI,\n       LAT_IND = #LAT_IND, \n       LONG_IND = #LONG_IND\n WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteFiliale",
			"SQL" : "DELETE FROM filiali_clienti\n  WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "Ritenuta",
			"SQL" : "CALL UPDATE_RITENUTA_CLIENTE(:NewKey1!CHIAVE_CLIENTE, :Ritenuta, :Anno, #IdentificativoFiscale)\n"
		},
		{
			"Name" : "InsertEvento",
			"SQL" : "INSERT INTO clienti_agenda (CHIAVE, ID_CLIENTE, EVENTO, DATA)\n                              VALUES(:NewKey2, :NewKey1!CHIAVE_CLIENTE, #EVENTO, #DATA)\n"
		},
		{
			"Name" : "UpdateEvento",
			"SQL" : "UPDATE clienti_agenda\n     SET DATA = #DATA,\n            EVENTO = #EVENTO\nWHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteEvento",
			"SQL" : "DELETE FROM clienti_agenda\n  WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "InsertTelefono",
			"SQL" : "INSERT INTO clienti_telefono (CHIAVE, ID_CLIENTE, DESCRIZIONE, TELEFONO,PRINCIPALE, EMAIL)\n                              VALUES(:NewKey2, :NewKey1!ID_CLIENTE, #DESCRIZIONE, #TELEFONO,#PRINCIPALE, #EMAIL)\n"
		},
		{
			"Name" : "UpdateTelefono",
			"SQL" : "UPDATE clienti_telefono\n     SET TELEFONO = #TELEFONO,\n            DESCRIZIONE = #DESCRIZIONE,\n            PRINCIPALE = #PRINCIPALE,\n            EMAIL = #EMAIL\nWHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteTelefono",
			"SQL" : "DELETE FROM clienti_telefono\n  WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "InsertOrario",
			"SQL" : "INSERT INTO filiali_orari (CHIAVE, ID_FILIALE, DESCRIZIONE, ORARIO_DAL1, ORARIO_AL1, ORARIO_DAL2, ORARIO_AL2, APERTO_LUNEDI, APERTO_MARTEDI, APERTO_MERCOLEDI, APERTO_GIOVEDI, APERTO_VENERDI, APERTO_SABATO, APERTO_DOMENICA)\n        VALUES (:NewKey3, :NewKey2!CHIAVE_FILIALE, #DESCRIZIONE, #ORARIO_DAL1, #ORARIO_AL1, #ORARIO_DAL2, #ORARIO_AL2, #APERTO_LUNEDI, #APERTO_MARTEDI, #APERTO_MERCOLEDI, #APERTO_GIOVEDI, #APERTO_VENERDI, #APERTO_SABATO, #APERTO_DOMENICA)\n"
		},
		{
			"Name" : "UpdateOrario",
			"SQL" : "UPDATE filiali_orari\n     SET DESCRIZIONE = #DESCRIZIONE,\n            ORARIO_DAL1 = #ORARIO_DAL1,\n            ORARIO_AL1 = #ORARIO_AL1,\n            ORARIO_DAL2 = #ORARIO_DAL2,\n            ORARIO_AL2 = #ORARIO_AL2,\n            ID_FILIALE = :CHIAVE_FILIALE,\n            APERTO_LUNEDI = #APERTO_LUNEDI,\n            APERTO_MARTEDI = #APERTO_MARTEDI,\n            APERTO_MERCOLEDI = #APERTO_MERCOLEDI,\n            APERTO_GIOVEDI = #APERTO_GIOVEDI,\n            APERTO_VENERDI = #APERTO_VENERDI,\n            APERTO_SABATO = #APERTO_SABATO,\n            APERTO_DOMENICA = #APERTO_DOMENICA\n  WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteOrario",
			"SQL" : "DELETE FROM filiali_orari WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "InsertUltimoCodiceCliente",
			"SQL" : "UPDATE impostazioni\n       SET ULTIMO_CODICE_CLIENTE = #ULTIMO_CODICE_CLIENTE\n"
		},
		{
			"Name" : "DeleteOrariFilialiTramiteCliente",
			"SQL" : "DELETE FROM filiali_orari\n WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteFilialiTramiteCliente",
			"SQL" : "DELETE FROM filiali_clienti\n WHERE CLIENTE = :CHIAVE_CLIENTE\n"
		},
		{
			"Name" : "DeleteTelefoniTramiteCliente",
			"SQL" : "DELETE FROM clienti_telefono\n WHERE ID_CLIENTE = :CHIAVE_CLIENTE\n"
		},
		{
			"Name" : "DeleteAgendaTramiteCliente",
			"SQL" : "DELETE FROM clienti_agenda\n WHERE ID_CLIENTE = :CHIAVE_CLIENTE\n"
		},
		{
			"Name" : "DeleteRitenutaTramiteCliente",
			"SQL" : "DELETE FROM ritenute_cliente\n WHERE ID_CLIENTE = :CHIAVE_CLIENTE\n"
		},
		{
			"Name" : "InsertTelefonoFiliale",
			"SQL" : "INSERT INTO filiali_telefono (CHIAVE, ID_FILIALE, DESCRIZIONE, TELEFONO, EMAIL_PER_AVVISO, TELEFONO_PER_AVVISO,EMAIL)\n        VALUES (:NewKey3, :NewKey2!ID_FILIALE, #DESCRIZIONE, #TELEFONO, #EMAIL_PER_AVVISO, #TELEFONO_PER_AVVISO,#EMAIL)\n"
		},
		{
			"Name" : "UpdateTelefonoFiliale",
			"SQL" : "UPDATE filiali_telefono\n     SET DESCRIZIONE = #DESCRIZIONE,\n            TELEFONO = #TELEFONO,\n            EMAIL = #EMAIL,\n            EMAIL_PER_AVVISO = #EMAIL_PER_AVVISO, \n            TELEFONO_PER_AVVISO = #TELEFONO_PER_AVVISO\n    WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteTelefonoFiliale",
			"SQL" : "DELETE FROM filiali_telefono WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteTelefonoFilialiTramiteCliente",
			"SQL" : "DELETE FROM filiali_telefono\n WHERE ID_FILIALE = :CHIAVE_FILIALE\n"
		},
		{
			"Name" : "AggiornaAvvisiDiFattura",
			"SQL" : "UPDATE fatture\n      SET COD_ENTE_SDI = #COD_ENTE_SDI,\n             PEC = #PEC,\n             INDIRIZZO_FATTURAZIONE = #INDIRIZZO_FATTURAZIONE,\n             NR_CIVICO_FATTURAZIONE = #NR_CIVICO_FATTURAZIONE,\n             CAP_FATTURAZIONE = #CAP_FATTURAZIONE,\n             COMUNE_FATTURAZIONE = #COMUNE_FATTURAZIONE,\n             PROVINCIA_FATTURAZIONE = :PROVINCIA_FATTURAZIONE,\n             CODICE_FISCALE = #CODICE_FISCALE,\n             NAZIONE_EM_PIVA = :NAZIONE_EM_PIVA,\n             PARTITA_IVA = #PARTITA_IVA\nWHERE NUMERO IS NULL \n    AND ID_CLIENTE = :ChiaveCliente\n"
		},
		{
			"Name" : "AggiornaDTTInCorso",
			"SQL" : "UPDATE ddt_uscenti\n      SET INDIRIZZO_FATTURAZIONE = #INDIRIZZO_FATTURAZIONE,\n             NR_CIVICO_FATTURAZIONE = #NR_CIVICO_FATTURAZIONE,\n             CAP_FATTURAZIONE = #CAP_FATTURAZIONE,\n             COMUNE_FATTURAZIONE = #COMUNE_FATTURAZIONE,\n             PROVINCIA_FATTURAZIONE = :PROVINCIA_FATTURAZIONE,\n             CODICE_FISCALE = #CODICE_FISCALE,\n             NAZIONE_EM_PIVA = :NAZIONE_EM_PIVA,\n             PARTITA_IVA = #PARTITA_IVA\nWHERE STATO_DDT = 'I' \n    AND ID_CLIENTE = :ChiaveCliente\n"
		},
		{
			"Name" : "AggiornaPreventiviSospesi",
			"SQL" : "UPDATE preventivi\n      SET COD_ENTE_SDI = #COD_ENTE_SDI,\n             PEC = #PEC,\n             INDIRIZZO_FATTURAZIONE = #INDIRIZZO_FATTURAZIONE,\n             NR_CIVICO_FATTURAZIONE = #NR_CIVICO_FATTURAZIONE,\n             CAP_FATTURAZIONE = #CAP_FATTURAZIONE,\n             COMUNE_FATTURAZIONE = #COMUNE_FATTURAZIONE,\n             PROVINCIA_FATTURAZIONE = :PROVINCIA_FATTURAZIONE,\n             CODICE_FISCALE = #CODICE_FISCALE,\n             NAZIONE_EM_PIVA = :NAZIONE_EM_PIVA,\n             PARTITA_IVA = #PARTITA_IVA\nWHERE STATO = 'S' \n    AND ID_CLIENTE = :ChiaveCliente\n"
		},
		{
			"Name" : "InserisciFilialiTramiteXLS",
			"SQL" : "INSERT INTO filiali_clienti(CHIAVE, SEDE, CLIENTE, NR_CIVICO, NOME, INDIRIZZO, PROVINCIA, \n                                      COMUNE, CAP, ZONA, NAZIONE, NOTE)\n        VALUES (:NewKey1, #SEDE, :CLIENTE, #NR_CIVICO, #NOME, #INDIRIZZO, :PROVINCIA, \n                     #COMUNE, #CAP, #ZONA, :NAZIONE, #NOTE)\n"
		},
		{
			"Name" : "InsertSconto",
			"SQL" : "INSERT INTO clienti_listino_sconti (CHIAVE, ID_PRODOTTO, ID_CLIENTE, TIPO_SCONTO, VALORE)\n        VALUES (:NewKey1, :ID_PRODOTTO, :ID_CLIENTE, #TIPO_SCONTO, :VALORE)\n"
		},
		{
			"Name" : "DeleteSconto",
			"SQL" : "DELETE FROM clienti_listino_sconti \nWHERE clienti_listino_sconti.ID_PRODOTTO = :ID_PRODOTTO\n           AND clienti_listino_sconti.ID_CLIENTE = :ID_CLIENTE\n"
		},
		{
			"Name" : "UpdateSconto",
			"SQL" : "UPDATE clienti_listino_sconti\n     SET TIPO_SCONTO = #TIPO_SCONTO,\n            VALORE = :VALORE\nWHERE clienti_listino_sconti.ID_CLIENTE = :ID_CLIENTE\n           AND clienti_listino_sconti.ID_PRODOTTO = :ID_PRODOTTO\n"
		},
		{
			"Name" : "InsertPrezzo",
			"SQL" : "INSERT INTO clienti_listino_sconti (CHIAVE, ID_PRODOTTO, ID_CLIENTE, TIPO_SCONTO, VALORE)\n        VALUES (:NewKey1, :ID_PRODOTTO, :ID_CLIENTE, #TIPO_SCONTO, :VALORE)\n"
		},
		{
			"Name" : "DeletePrezzo",
			"SQL" : "DELETE FROM clienti_listino_sconti \nWHERE clienti_listino_sconti.ID_PRODOTTO = :ID_PRODOTTO\n           AND clienti_listino_sconti.ID_CLIENTE = :ID_CLIENTE\n"
		},
		{
			"Name" : "UpdatePrezzo",
			"SQL" : "UPDATE clienti_listino_sconti\n     SET TIPO_SCONTO = #TIPO_SCONTO,\n            VALORE = :VALORE\nWHERE clienti_listino_sconti.ID_CLIENTE = :ID_CLIENTE\n           AND clienti_listino_sconti.ID_PRODOTTO = :ID_PRODOTTO\n"
		},
		{
			"Name" : "InsertRitenuteCliente",
			"SQL" : "INSERT INTO ritenute_acconto_clienti (CHIAVE, ID_CLIENTE, DATA, RITENUTE, NOTE, CERTIFICATA)\n                              VALUES(:NewKey2, :NewKey1!CHIAVE_CLIENTE, #DATA, :RITENUTE, #NOTE, #CERTIFICATA)\n"
		},
		{
			"Name" : "UpdateRitenuteCliente",
			"SQL" : "UPDATE ritenute_acconto_clienti\n   SET DATA = #DATA,\n       RITENUTE = :RITENUTE,\n       NOTE = #NOTE,\n       CERTIFICATA = #CERTIFICATA\n WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteRitenuteCliente",
			"SQL" : "DELETE FROM ritenute_acconto_clienti\n WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteSaldiAnnualiTramiteCliente",
			"SQL" : "DELETE FROM saldi_chiusure_annuali\n          WHERE ID_ANAGRAFICA = :CHIAVE_CLIENTE\n"
		},
		{
			"Name" : "DeleteListinoScontiTramiteCliente",
			"SQL" : "DELETE FROM clienti_listino_sconti\n WHERE ID_CLIENTE = :CHIAVE_CLIENTE\n"
		},
		{
			"Name" : "DeleteRitenuteAccontoTramiteCliente",
			"SQL" : "DELETE FROM ritenute_acconto_clienti\n WHERE ID_CLIENTE = :CHIAVE_CLIENTE\n"
		},
		{
			"Name" : "InserisciAllegato",
			"SQL" : "INSERT INTO allegati_clienti (CHIAVE, DESCRIZIONE, ALLEGATO, ID_CLIENTE)\n                        VALUES (:NewKey2, #DESCRIZIONE, $ALLEGATO, :NewKey1!ID_CLIENTE)\n"
		},
		{
			"Name" : "EliminaAllegato",
			"SQL" : "DELETE FROM allegati_clienti\n  WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "ModificaAllegato",
			"SQL" : "UPDATE allegati_clienti\n   SET CHIAVE = :CHIAVE,\n       DESCRIZIONE = #DESCRIZIONE,\n       ALLEGATO =$ALLEGATO\n WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "InserisciClientiTramiteXLS",
			"SQL" : "INSERT INTO anagrafiche(CHIAVE, CODICE, RAGIONE_SOCIALE, COMUNE_FATTURAZIONE, \n                              INDIRIZZO_FATTURAZIONE, NR_CIVICO_FATTURAZIONE, PROVINCIA_FATTURAZIONE, \n                              CAP_FATTURAZIONE, ZONA_FATTURAZIONE, PARTITA_IVA, CODICE_FISCALE, \n                              COND_PAGAMENTO, NAZIONE_EM_PIVA, IVA_SUGGERITA_CLIENTE)\n        VALUES (:NewKey1, #CODICE, #RAGIONE_SOCIALE, #COMUNE_FATTURAZIONE, \n                     #INDIRIZZO_FATTURAZIONE, #NR_CIVICO_FATTURAZIONE, :PROVINCIA_FATTURAZIONE, \n                     #CAP_FATTURAZIONE, :ZONA_FATTURAZIONE, #PARTITA_IVA, #CODICE_FISCALE, \n                     :COND_PAGAMENTO, :NAZIONE_EM_PIVA, :IVA_SUGGERITA_CLIENTE)\n"
		},
		{
			"Name" : "InserisciRecapitiTramiteXLS",
			"SQL" : "INSERT INTO clienti_telefono (CHIAVE, ID_CLIENTE, TELEFONO, EMAIL)\n                              VALUES(:NewKey2, :NewKey1!ID_CLIENTE, #TELEFONO, #EMAIL)\n"
		}
	],
	"GetIva" : [
		{
			"Name" : "IvaCliente",
			"SQL" : "SELECT anagrafiche.IVA_SUGGERITA_CLIENTE\n FROM anagrafiche\nWHERE CHIAVE = :Chiave AND IS_CLIENTE = 'T'\n"
		}
	],
	"Insoluti" : [
		{
			"Name" : "LsClientiInsoluti",
			"SQL" : "CALL CLIENTI_CON_FATTURE_INSOLUTE(:CHIAVE_CLIENTE);\n"
		},
		{
			"Name" : "LsFattureInsolute",
			"SQL" : "      SELECT fatture.DATA AS DATA, \n                  fatture.CHIAVE AS CHIAVE_FATTURA,\n                  fatture.NUMERO, \n                  fatture.DA_BANCO, \n                 'F' AS IS_A_FATTURA_PREGRESSA,\n                  (SELECT SUM(rate_fattura.IMPORTO) FROM rate_fattura WHERE rate_fattura.ID_FATTURA = fatture.CHIAVE) AS TOT_FATTURA,\n                  (SELECT SUM(rate_fattura.IMPORTO) FROM rate_fattura WHERE rate_fattura.ID_FATTURA = fatture.CHIAVE AND rate_fattura.DATA_PAGAMENTO IS NULL AND rate_fattura.ID_MOVIMENTO IS NULL) AS TOT_DA_PAGARE\n         FROM anagrafiche\n INNER JOIN fatture ON anagrafiche.CHIAVE = fatture.ID_CLIENTE\n   WHERE fatture.CHIAVE IN (SELECT fatture.CHIAVE\t\n                                            FROM fatture\n                                          WHERE fatture.NUMERO IS NOT NULL\n\t\t\t    AND fatture.CHIAVE IN (SELECT rate_fattura.ID_FATTURA\n                                                                                   FROM rate_fattura\n                                                                                 WHERE rate_fattura.DATA_PAGAMENTO IS NULL\n\t\t\t\t                             AND rate_fattura.ID_MOVIMENTO IS NULL))\n\t\t\t    AND fatture.ID_CLIENTE = :CHIAVE\n                                              AND anagrafiche.CHIAVE IN (SELECT contratti.ID_CLIENTE\n                                                                                 FROM contratti\n                                                                               WHERE contratti.NON_CONFERMATO = 'F'\n                                                                                   AND contratti.DISDETTATO = 'F'\n                                                                                   AND contratti.SOSPENSIONE_TEMPORANEA = 'F'\n                                                                                   AND contratti.TIPOLOGIA = 'M')\nUNION\n               SELECT fatture_insolute_pregresse.DATA AS DATA, \n                           fatture_insolute_pregresse.CHIAVE AS CHIAVE_FATTURA,\n                           fatture_insolute_pregresse.NUMERO, \n                           NULL, \n                           'T',\n                           fatture_insolute_pregresse.IMPORTO AS TOT_FATTURA,\n                           fatture_insolute_pregresse.IMPORTO AS TOT_DA_PAGARE\n                 FROM fatture_insolute_pregresse\nLEFT OUTER JOIN anagrafiche ON fatture_insolute_pregresse.ID_CLIENTE = anagrafiche.CHIAVE\n               WHERE fatture_insolute_pregresse.ID_CLIENTE = :CHIAVE\n                    AND fatture_insolute_pregresse.DATA_PAGAMENTO IS NULL\n                    AND fatture_insolute_pregresse.ID_MOVIMENTO IS NULL\n                    AND anagrafiche.CHIAVE IN (SELECT contratti.ID_CLIENTE\n                                                       FROM contratti\n                                                     WHERE contratti.NON_CONFERMATO = 'F'\n                                                          AND contratti.DISDETTATO = 'F'\n                                                          AND contratti.SOSPENSIONE_TEMPORANEA = 'F'\n                                                          AND contratti.TIPOLOGIA = 'M')\n   ORDER BY CHIAVE_FATTURA, DATA ASC;\n"
		}
	],
	"ListaEmail" : [
		{
			"Name" : "ListaEmailCliente",
			"SQL" : "SELECT clienti_telefono.EMAIL AS EMAIL_CLIENTE\nFROM clienti_telefono\nWHERE ID_CLIENTE=:CHIAVE\n"
		}
	],
	"ListaFiliali" : [
		{
			"Name" : "Lista",
			"SQL" : "SELECT *\n  FROM filiali_clienti\n WHERE CLIENTE = :CHIAVE_CLIENTE\n"
		}
	],
	"LogFiliali" : [
		{
			"Name" : "LogFilialiAttive",
			"SQL" : "SELECT *\n  FROM log_attivazioni_filiali\n WHERE FILIALE = :CHIAVE_FILIALE\n"
		}
	],
	"SelectCliente" : [
		{
			"Name" : "SelectCliente",
			"SQL" : "SELECT anagrafiche.*, \n            conti_correnti_casse.IBAN AS IBAN_CONTO,  \n            conti_correnti_casse.NR_CONTO, \n            conti_correnti_casse.SWIFT AS SWIFT_CONTO,  \n            conti_correnti_casse.BIC AS BIC_CONTO, \n            conti_correnti_casse.BANCA AS BANCA_CONTO\n  FROM anagrafiche\n            LEFT OUTER JOIN conti_correnti_casse ON conti_correnti_casse.CHIAVE = anagrafiche.ID_CONTO_CORRENTE\nWHERE anagrafiche.CHIAVE = :CHIAVE AND IS_CLIENTE = 'T'\n"
		}
	],
	"SelectClientiXFiltro" : [
		{
			"Name" : "SelectClientiXFiltro",
			"SQL" : "SELECT anagrafiche.CHIAVE,               /* se cambi qua, cambiare anche in SelectClientiXFiltroIniziale e in selectSQL*/\n            RAGIONE_SOCIALE, \n            ATTIVO, \n            PASSATA_AD_AVVOCATO,\n            ((SELECT EXISTS(SELECT fatture.CHIAVE\n                                        FROM fatture\n                                      WHERE fatture.ID_CLIENTE = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT preventivi.CHIAVE\n                                        FROM preventivi\n                                      WHERE preventivi.ID_CLIENTE = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT note_di_credito.CHIAVE\n                                        FROM note_di_credito\n                                      WHERE note_di_credito.ID_CLIENTE = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT ddt_uscenti.CHIAVE\n                                        FROM ddt_uscenti\n                                      WHERE ddt_uscenti.ID_ANAGRAFICA = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT ddt_entranti.CHIAVE\n                                        FROM ddt_entranti\n                                      WHERE ddt_entranti.ID_ANAGRAFICA = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT contratti.CHIAVE\n                                        FROM contratti\n                                      WHERE contratti.ID_CLIENTE = anagrafiche.CHIAVE))) AS CLIENTE_CANCELLABILE\n  FROM anagrafiche\n  LEFT OUTER JOIN province ON province.CHIAVE = anagrafiche.PROVINCIA_FATTURAZIONE\n  LEFT OUTER JOIN regioni ON regioni.CHIAVE   = province.ID_REGIONE\n  LEFT OUTER JOIN cat_clienti ON cat_clienti.CHIAVE = anagrafiche.ID_CAT_CLIENTE\n  WHERE IS_CLIENTE = 'T'\n  {w~Attivo~ATTIVO = #Attivo\n      ~PartitaIva~ UPPER(PARTITA_IVA) LIKE UPPER(#PartitaIva)\n      ~SottoStringa1~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa1)\n      ~SottoStringa2~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa2)\n      ~SottoStringa3~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa3)\n      ~SottoStringa4~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa4)\n      ~SottoStringa5~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa5)\n      ~CodiceFiscale~ UPPER(CODICE_FISCALE) LIKE UPPER(#CodiceFiscale)\n      ~CodiceCliente~UPPER(CODICE) LIKE UPPER(#CodiceCliente)\n      ~Regione~ ID_REGIONE = :Regione\n      ~Provincia~PROVINCIA_FATTURAZIONE = :Provincia\n      ~IndirizzoFatturazione~ CONCAT(UPPER(INDIRIZZO_FATTURAZIONE),\" \",UPPER(NR_CIVICO_FATTURAZIONE)) LIKE UPPER(#IndirizzoFatturazione)\n      ~IndirizzoFiliale~ anagrafiche.CHIAVE IN (SELECT filiali_clienti.CLIENTE\n                                                             FROM filiali_clienti\n                                                           WHERE CONCAT(UPPER(filiali_clienti.INDIRIZZO),\" \",UPPER( COALESCE(filiali_clienti.NR_CIVICO, '') )) LIKE UPPER(#IndirizzoFiliale))\n      ~ZonaFiliale~ anagrafiche.CHIAVE IN (SELECT filiali_clienti.CLIENTE\n                                                        FROM filiali_clienti\n                                                      WHERE filiali_clienti.ZONA = :ZonaFiliale)\n      ~FattureInRitardo~ anagrafiche.CHIAVE IN (SELECT ID_CLIENTE\n                                                               FROM fatture \n                                                             WHERE fatture.CHIAVE IN (SELECT ID_FATTURA\n                                                                                                      FROM rate_fattura\n                                                                                                    WHERE DATA < NOW()\n                                                                                                        AND DATA_PAGAMENTO IS NULL\n                                                                                                    GROUP BY ID_FATTURA)\n                                                             GROUP BY ID_CLIENTE\n                                                            HAVING COUNT(*) >= 2)}\nORDER BY UPPER(RAGIONE_SOCIALE)\n"
		}
	],
	"SelectClientiXFiltroIniziale" : [
		{
			"Name" : "SelectClientiXFiltroIniziale",
			"SQL" : "SELECT UPPER(SUBSTRING(anagrafiche.RAGIONE_SOCIALE,1,1)) AS Iniziale\n  FROM anagrafiche\n  LEFT OUTER JOIN province ON province.CHIAVE = anagrafiche.PROVINCIA_FATTURAZIONE\n  LEFT OUTER JOIN regioni ON regioni.CHIAVE   = province.ID_REGIONE\n  LEFT OUTER JOIN cat_clienti ON cat_clienti.CHIAVE = anagrafiche.ID_CAT_CLIENTE\n  WHERE IS_CLIENTE = 'T'\n                        /* se cambi qua, cambiare anche in SelectClientiXFiltro e in selectSQL*/\n  {w~Attivo~ATTIVO = #Attivo\n      ~PartitaIva~ UPPER(PARTITA_IVA) LIKE UPPER(#PartitaIva)\n      ~SottoStringa1~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa1)\n      ~SottoStringa2~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa2)\n      ~SottoStringa3~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa3)\n      ~SottoStringa4~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa4)\n      ~SottoStringa5~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa5)\n      ~CodiceFiscale~ UPPER(CODICE_FISCALE) LIKE UPPER(#CodiceFiscale)\n      ~CodiceCliente~UPPER(CODICE) LIKE UPPER(#CodiceCliente)\n      ~Regione~ ID_REGIONE = :Regione\n      ~Provincia~ PROVINCIA_FATTURAZIONE = :Provincia\n      ~IndirizzoFatturazione~ CONCAT(UPPER(INDIRIZZO_FATTURAZIONE),\" \",UPPER(NR_CIVICO_FATTURAZIONE)) LIKE UPPER(#IndirizzoFatturazione)\n      ~IndirizzoFiliale~ anagrafiche.CHIAVE IN (SELECT filiali_clienti.CLIENTE\n                                                             FROM filiali_clienti\n                                                           WHERE CONCAT(UPPER(filiali_clienti.INDIRIZZO),\" \",UPPER( COALESCE(filiali_clienti.NR_CIVICO, '') )) LIKE UPPER(#IndirizzoFiliale))\n      ~ZonaFiliale~ anagrafiche.CHIAVE IN (SELECT filiali_clienti.CLIENTE\n                                                        FROM filiali_clienti\n                                                      WHERE filiali_clienti.ZONA = :ZonaFiliale)\n      ~FattureInRitardo~anagrafiche.CHIAVE IN (SELECT ID_CLIENTE\n                                                              FROM fatture \n                                                           WHERE fatture.CHIAVE IN (SELECT ID_FATTURA\n                                                                                                    FROM rate_fattura\n                                                                                                  WHERE DATA < NOW()\n                                                                                                       AND DATA_PAGAMENTO IS NULL\n                                                                                                   GROUP BY ID_FATTURA)\n                                                            GROUP BY ID_CLIENTE\n                                                           HAVING COUNT(*) >= 2)}\nGROUP BY Iniziale\nORDER BY Iniziale\n"
		}
	],
	"SelectDatiCliente" : [
		{
			"Name" : "SelectDatiCliente",
			"SQL" : "SELECT anagrafiche.RAGIONE_SOCIALE,\n            anagrafiche.CHIAVE\n  FROM anagrafiche\n WHERE anagrafiche.CHIAVE = :CHIAVE_CLIENTE AND IS_CLIENTE = 'T'\n"
		}
	],
	"SelectDatiFiliale" : [
		{
			"Name" : "SelectDatiFiliale",
			"SQL" : "SELECT filiali_clienti.*,\n            anagrafiche.RAGIONE_SOCIALE\n  FROM filiali_clienti\n            JOIN anagrafiche ON anagrafiche.CHIAVE = filiali_clienti.CLIENTE\n WHERE filiali_clienti.CHIAVE = :CHIAVE_FILIALE AND IS_CLIENTE = 'T'\n"
		}
	],
	"SelectDettaglio" : [
		{
			"Name" : "Dettaglio",
			"SQL" : "SELECT anagrafiche.*, \n            conti_correnti_casse.IBAN AS IBAN_CONTO,  \n            conti_correnti_casse.NR_CONTO, \n            conti_correnti_casse.SWIFT AS SWIFT_CONTO,  \n            conti_correnti_casse.BIC AS BIC_CONTO, \n            conti_correnti_casse.BANCA AS BANCA_CONTO\n  FROM anagrafiche\n            LEFT OUTER JOIN conti_correnti_casse ON conti_correnti_casse.CHIAVE = anagrafiche.ID_CONTO_CORRENTE\nWHERE anagrafiche.CHIAVE = :CHIAVE AND IS_CLIENTE = 'T'\n"
		},
		{
			"Name" : "Filiali",
			"SQL" : "SELECT *,\n           EXISTS(SELECT * \n                    FROM log_attivazioni_filiali \n                  WHERE log_attivazioni_filiali.FILIALE = filiali_clienti.CHIAVE) AS ATTIVAZIONI_PRESENTI\n  FROM filiali_clienti\n WHERE CLIENTE = :CHIAVE\nORDER BY FILIALE_DISATTIVATA = 'T'\n"
		},
		{
			"Name" : "Ritenute",
			"SQL" : "SELECT (FLOOR(SUM(rate_fattura.IMPORTO) * fatture.RITENUTA / 1000)) AS RITENUTA,\n       YEAR(rate_fattura.DATA_PAGAMENTO) AS ANNO\n   FROM rate_fattura, fatture\n WHERE fatture.CHIAVE = rate_fattura.ID_FATTURA\n     AND rate_fattura.DATA_PAGAMENTO IS NOT NULL \n     AND fatture.ID_CLIENTE = :CHIAVE\n     AND fatture.RITENUTA > 0\n GROUP BY YEAR(rate_fattura.DATA_PAGAMENTO) DESC\n"
		},
		{
			"Name" : "RitenutePagate",
			"SQL" : "SELECT *\n  FROM ritenute_cliente\n WHERE ID_CLIENTE = :CHIAVE\n ORDER BY ANNO DESC\n"
		},
		{
			"Name" : "Agenda",
			"SQL" : "SELECT *\nFROM clienti_agenda\n WHERE ID_CLIENTE = :CHIAVE\n ORDER BY DATA DESC\n"
		},
		{
			"Name" : "TelefonoClienti",
			"SQL" : "SELECT *\n  FROM clienti_telefono\n WHERE ID_CLIENTE = :CHIAVE\n ORDER BY PRINCIPALE\n"
		},
		{
			"Name" : "OrariFiliali",
			"SQL" : "SELECT filiali_orari.*\n  FROM filiali_orari\n  LEFT OUTER JOIN filiali_clienti ON filiali_clienti.CHIAVE = filiali_orari.ID_FILIALE\n  LEFT OUTER JOIN anagrafiche ON anagrafiche.CHIAVE = filiali_clienti.CLIENTE\n WHERE anagrafiche.CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "TelefonoFiliali",
			"SQL" : "SELECT filiali_telefono.*\n  FROM filiali_telefono\n            LEFT OUTER JOIN filiali_clienti ON filiali_clienti.CHIAVE = filiali_telefono.ID_FILIALE\n            LEFT OUTER JOIN anagrafiche ON anagrafiche.CHIAVE = filiali_clienti.CLIENTE\n WHERE anagrafiche.CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "ListaProdotti",
			"SQL" : "SELECT prodotti.CHIAVE,\n            prodotti.DESCRIZIONE,\n            prodotti.CODICE,\n            ROUND(prodotti.PREZZO_IMPONIBILE / 100, 2) AS PREZZO_IMPONIBILE,\n            prodotti.IVA,\n            clienti_listino_sconti.TIPO_SCONTO,\n            ROUND(clienti_listino_sconti.VALORE / 100, 2) AS VALORE\n  FROM prodotti\nLEFT OUTER JOIN clienti_listino_sconti ON clienti_listino_sconti.ID_PRODOTTO = prodotti.CHIAVE \n                                                      AND clienti_listino_sconti.ID_CLIENTE = :CHIAVE\nORDER BY clienti_listino_sconti.TIPO_SCONTO DESC, prodotti.DESCRIZIONE \n"
		},
		{
			"Name" : "SituazioneContabile",
			"SQL" : "SELECT ROUND(SUM(voci_fatture.IMPORTO) / 100, 2) AS TOTALE_IMPORTO,\n            fatture.CHIAVE,\n            fatture.NUMERO,\n            fatture.ANNO,\n            fatture.INVIATA_ALLO_SDI,\n            DATE_FORMAT(fatture.DATA, '%d-%m-%Y') AS DATA\n   FROM voci_fatture\n     JOIN fatture ON fatture.CHIAVE = voci_fatture.ID_FATTURA\n WHERE fatture.ID_CLIENTE = :CHIAVE\n GROUP BY fatture.CHIAVE, fatture.DATA, contratti.DESCRIZIONE_SCHEDA, fatture.ANNO, fatture.NUMERO, fatture.INVIATA_ALLO_SDI\nORDER BY fatture.DATA ASC\n"
		},
		{
			"Name" : "RitenuteCliente",
			"SQL" : "SELECT *\n  FROM ritenute_acconto_clienti\n WHERE ID_CLIENTE = :CHIAVE ORDER BY DATA DESC\n"
		},
		{
			"Name" : "AllegatiClienti",
			"SQL" : "SELECT CHIAVE, DESCRIZIONE, ID_CLIENTE, ALLEGATO\n  FROM allegati_clienti\n WHERE ID_CLIENTE = :CHIAVE\n"
		},
		{
			"Name" : "ListaFattureCliente",
			"SQL" : "  SELECT Fattura.CHIAVE,\n              Fattura.NUMERO, \n              Fattura.DATA,\n              Fattura.IS_RITENUTA_ACCONTO\n  FROM (  SELECT fatture.CHIAVE, \n                           fatture.NUMERO, \n                           fatture.DATA,\n                           (SELECT COUNT(*) \n                               FROM rate_fattura \n                             WHERE rate_fattura.ID_FATTURA = fatture.CHIAVE \n                                 AND rate_fattura.IS_RITENUTA_ACCONTO = 'T') > 0 AS IS_RITENUTA_ACCONTO,\n                           fatture.RITENUTA\n                  FROM fatture\n                WHERE fatture.ID_CLIENTE = :CHIAVE\n                     AND fatture.NUMERO IS NOT NULL ) AS Fattura\n  WHERE Fattura.RITENUTA > 0 OR Fattura.IS_RITENUTA_ACCONTO = 1\nORDER BY Fattura.DATA DESC\n"
		}
	],
	"SelectSQL" : [
		{
			"Name" : "LsClientiXIniziale",
			"SQL" : "SELECT anagrafiche.CHIAVE,\n            RAGIONE_SOCIALE,\n            ATTIVO,\n            PASSATA_AD_AVVOCATO,\n            ((SELECT EXISTS(SELECT fatture.CHIAVE\n                                        FROM fatture\n                                      WHERE fatture.ID_CLIENTE = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT preventivi.CHIAVE\n                                        FROM preventivi\n                                      WHERE preventivi.ID_CLIENTE = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT note_di_credito.CHIAVE\n                                        FROM note_di_credito\n                                      WHERE note_di_credito.ID_CLIENTE = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT ddt_uscenti.CHIAVE\n                                        FROM ddt_uscenti\n                                      WHERE ddt_uscenti.ID_ANAGRAFICA = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT ddt_entranti.CHIAVE\n                                        FROM ddt_entranti\n                                      WHERE ddt_entranti.ID_ANAGRAFICA = anagrafiche.CHIAVE)) OR\n            (SELECT EXISTS(SELECT fatture_insolute_pregresse.CHIAVE\n                                        FROM fatture_insolute_pregresse\n                                      WHERE fatture_insolute_pregresse.ID_CLIENTE = anagrafiche.CHIAVE))) AS CLIENTE_CANCELLABILE\n  FROM anagrafiche\n    LEFT OUTER JOIN province ON province.CHIAVE = anagrafiche.PROVINCIA_FATTURAZIONE\n    LEFT OUTER JOIN regioni ON regioni.CHIAVE      = province.ID_REGIONE\n    LEFT OUTER JOIN cat_clienti ON cat_clienti.CHIAVE = anagrafiche.ID_CAT_CLIENTE\n  WHERE UPPER(SUBSTRING(RAGIONE_SOCIALE,1,1)) = UPPER(#Iniziale) AND IS_CLIENTE = 'T'\n  {w~Attivo~ATTIVO = #Attivo\n      ~PartitaIva~ UPPER(PARTITA_IVA) LIKE UPPER(#PartitaIva)\n      ~SottoStringa1~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa1)\n      ~SottoStringa2~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa2)\n      ~SottoStringa3~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa3)\n      ~SottoStringa4~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa4)\n      ~SottoStringa5~ UPPER(CONCAT(CODICE, RAGIONE_SOCIALE)) LIKE UPPER(#SottoStringa5)\n      ~CodiceFiscale~ UPPER(CODICE_FISCALE) LIKE UPPER(#CodiceFiscale)\n      ~CodiceCliente~UPPER(CODICE) LIKE UPPER(#CodiceCliente)\n      ~Regione~ ID_REGIONE = :Regione\n      ~Provincia~ PROVINCIA_FATTURAZIONE = :Provincia\n      ~IndirizzoFatturazione~ CONCAT(UPPER(INDIRIZZO_FATTURAZIONE),\" \",UPPER(NR_CIVICO_FATTURAZIONE)) LIKE UPPER(#IndirizzoFatturazione)\n      ~IndirizzoFiliale~anagrafiche.CHIAVE IN (SELECT filiali_clienti.CLIENTE\n                                                             FROM filiali_clienti\n                                                           WHERE CONCAT(UPPER(filiali_clienti.INDIRIZZO),\" \",UPPER( COALESCE(filiali_clienti.NR_CIVICO, '') )) LIKE UPPER(#IndirizzoFiliale))\n      ~ZonaFiliale~ anagrafiche.CHIAVE IN (SELECT filiali_clienti.CLIENTE\n                                                        FROM filiali_clienti\n                                                      WHERE filiali_clienti.ZONA = :ZonaFiliale)\n      ~FattureInRitardo~anagrafiche.CHIAVE IN (SELECT ID_CLIENTE\n                                                              FROM fatture \n                                                           WHERE fatture.CHIAVE IN (SELECT ID_FATTURA\n                                                                                                    FROM rate_fattura\n                                                                                                  WHERE DATA < NOW()\n                                                                                                       AND DATA_PAGAMENTO IS NULL\n                                                                                                   GROUP BY ID_FATTURA)\n                                                            GROUP BY ID_CLIENTE\n                                                           HAVING COUNT(*) >= 2)}\nORDER BY UPPER(RAGIONE_SOCIALE)\n\n"
		},
		{
			"Name" : "ListaProdotti",
			"SQL" : "SELECT prodotti.DESCRIZIONE,\n            prodotti.CODICE,\n            prodotti.PREZZO_IMPONIBILE,\n            prodotti.IVA\n  FROM prodotti\nORDER BY prodotti.CHIAVE\n"
		}
	],
	"UltimoCodiceCliente" : [
		{
			"Name" : "UltimoCodiceCliente",
			"SQL" : "SELECT ULTIMO_CODICE_CLIENTE\n   FROM impostazioni\n"
		}
]
}
