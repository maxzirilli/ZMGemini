{
	"RuoliAbilitati" : "",
	"EditSQL" : [
		{
			"Name" : "Insert",
			"SQL" : "INSERT INTO amministratori ( CHIAVE, RAGIONE_SOCIALE, PEC, COD_UFFICIO_DEST,\n                                            COD_ENTE_SDI, ZONA_FATTURAZIONE, NOTE, TIPO_FATTURAZIONE,\n                                            INDIRIZZO_FATTURAZIONE, NR_CIVICO_FATTURAZIONE, PROVINCIA_FATTURAZIONE,\n                                            COMUNE_FATTURAZIONE, CAP_FATTURAZIONE, NAZIONE_FATTURAZIONE,\n                                            DALLE_ORE, ALLE_ORE, DALLE_ORE2, ALLE_ORE2, GIORNO_APERTURA,\n                                            DALLE_ORE3, ALLE_ORE3, DALLE_ORE4, ALLE_ORE4, GIORNO_APERTURA2,\n                                            AVVISO_AMMINISTRATORE, NOTE_NASCOSTE, ID_TITOLO,\n                                            GIORNO_FATTURAZIONE, MESE_FATTURAZIONE)\n                              VALUES ( :NewKey1, #RAGIONE_SOCIALE, #PEC, #COD_UFFICIO_DEST, \n                                            #COD_ENTE_SDI, :ZONA_FATTURAZIONE, #NOTE, #TIPO_FATTURAZIONE,\n                                            #INDIRIZZO_FATTURAZIONE, #NR_CIVICO_FATTURAZIONE, :PROVINCIA_FATTURAZIONE,\n                                            #COMUNE_FATTURAZIONE, #CAP_FATTURAZIONE, :NAZIONE_FATTURAZIONE,\n                                            #DALLE_ORE, #ALLE_ORE, #DALLE_ORE, #ALLE_ORE, #GIORNO_APERTURA,\n                                            #DALLE_ORE3, #ALLE_ORE3, #DALLE_ORE4, #ALLE_ORE4, #GIORNO_APERTURA2,\n                                            #AVVISO_AMMINISTRATORE, #NOTE_NASCOSTE, :ID_TITOLO,\n                                            :GIORNO_FATTURAZIONE, :MESE_FATTURAZIONE )\n"
		},
		{
			"Name" : "Update",
			"SQL" : "UPDATE amministratori SET\n             RAGIONE_SOCIALE = #RAGIONE_SOCIALE,\n             COD_ENTE_SDI = #COD_ENTE_SDI,\n             ZONA_FATTURAZIONE = :ZONA_FATTURAZIONE,\n             NOTE = #NOTE,\n             INDIRIZZO_FATTURAZIONE = #INDIRIZZO_FATTURAZIONE,\n             NR_CIVICO_FATTURAZIONE = #NR_CIVICO_FATTURAZIONE,\n             PROVINCIA_FATTURAZIONE = :PROVINCIA_FATTURAZIONE,\n             COMUNE_FATTURAZIONE = #COMUNE_FATTURAZIONE,\n             CAP_FATTURAZIONE = #CAP_FATTURAZIONE,\n             NAZIONE_FATTURAZIONE = :NAZIONE_FATTURAZIONE,\n             PEC = #PEC,\n             COD_UFFICIO_DEST = #COD_UFFICIO_DEST,\n             DALLE_ORE = #DALLE_ORE, \n             ALLE_ORE = #ALLE_ORE,\n             DALLE_ORE2 = #DALLE_ORE2, \n             ALLE_ORE2 = #ALLE_ORE2,  \n             GIORNO_APERTURA = #GIORNO_APERTURA,\n             DALLE_ORE3 = #DALLE_ORE3, \n             ALLE_ORE3 = #ALLE_ORE3,\n             DALLE_ORE4 = #DALLE_ORE4, \n             ALLE_ORE4 = #ALLE_ORE4,  \n             GIORNO_APERTURA2 = #GIORNO_APERTURA2,\n             AVVISO_AMMINISTRATORE = #AVVISO_AMMINISTRATORE, \n             NOTE_NASCOSTE = #NOTE_NASCOSTE, \n             ID_TITOLO = :ID_TITOLO,\n             GIORNO_FATTURAZIONE = :GIORNO_FATTURAZIONE, \n             MESE_FATTURAZIONE = :MESE_FATTURAZIONE,\n             TIPO_FATTURAZIONE = #TIPO_FATTURAZIONE\n WHERE CHIAVE = :CHIAVE_AMMINISTRATORE\n\n"
		},
		{
			"Name" : "Delete",
			"SQL" : "DELETE FROM amministratori WHERE CHIAVE = :CHIAVE_AMMINISTRATORE\n"
		},
		{
			"Name" : "InsertTelefono",
			"SQL" : "INSERT INTO amministratori_telefono (CHIAVE, ID_AMMINISTRATORE, DESCRIZIONE, TELEFONO,PRINCIPALE, EMAIL)\n                              VALUES(:NewKey2, :NewKey1!ID_AMMINISTRATORE, #DESCRIZIONE, #TELEFONO,#PRINCIPALE, #EMAIL)\n"
		},
		{
			"Name" : "UpdateTelefono",
			"SQL" : "UPDATE amministratori_telefono \n     SET TELEFONO = #TELEFONO,\n            DESCRIZIONE = #DESCRIZIONE,\n            PRINCIPALE = #PRINCIPALE,\n            EMAIL = #EMAIL,\nWHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteTelefono",
			"SQL" : "DELETE FROM amministratori_telefono \n  WHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DeleteTelefonoTramiteAmministratore",
			"SQL" : "DELETE FROM amministratori_telefono WHERE ID_AMMINISTRATORE = :CHIAVE_AMMINISTRATORE\n"
		}
	],
	"SelectDettaglio" : [
		{
			"Name" : "Dettaglio",
			"SQL" : "SELECT * \n FROM amministratori\nWHERE CHIAVE = :CHIAVE\n"
		},
		{
			"Name" : "DettaglioTelefono",
			"SQL" : "SELECT * \n FROM amministratori_telefono\nWHERE ID_AMMINISTRATORE = :CHIAVE\n"
		}
	],
	"SelectSQL" : [
		{
			"Name" : "LsAmministratori",
			"SQL" : "SELECT CHIAVE, \n            RAGIONE_SOCIALE,\n            (SELECT COUNT(*) \n                FROM clienti \n              WHERE clienti.ID_AMMINISTRATORE = amministratori.CHIAVE) AS NUMERO_CLIENTI_GESTITI\n  FROM amministratori\n  {W~RagioneSociale~ UPPER(RAGIONE_SOCIALE) LIKE UPPER(#RagioneSociale)\n      ~Indirizzo~ UPPER(INDIRIZZO_FATTURAZIONE) LIKE UPPER(#Indirizzo)}\n ORDER BY UPPER(RAGIONE_SOCIALE)\n"
		}
]
}
